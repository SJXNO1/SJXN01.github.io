<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>yoyoSqlite.js 2.0.3 | VuePress</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Vue 驱动的静态网站生成器">
    
    <link rel="preload" href="/assets/css/0.styles.9825735b.css" as="style"><link rel="preload" href="/assets/js/app.abde6b00.js" as="script"><link rel="preload" href="/assets/js/2.2defd20b.js" as="script"><link rel="preload" href="/assets/js/8.73b1d48e.js" as="script"><link rel="prefetch" href="/assets/js/3.7796d6ca.js"><link rel="prefetch" href="/assets/js/4.26f73e91.js"><link rel="prefetch" href="/assets/js/5.5dcec586.js"><link rel="prefetch" href="/assets/js/6.f2a96706.js"><link rel="prefetch" href="/assets/js/7.ba72b951.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9825735b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://google.com" target="_self" class="nav-link external">
  External
  <!----></a></div><div class="nav-item"><a href="/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://google.com" target="_self" class="nav-link external">
  External
  <!----></a></div><div class="nav-item"><a href="/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Home</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/home/sql.html" aria-current="page" class="active sidebar-link">yoyoSqlite.js 2.0.3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/home/sql.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/home/sql.html#引入" class="sidebar-link">引入</a></li><li class="sidebar-sub-header"><a href="/home/sql.html#连接sqlite数据库" class="sidebar-link">连接sqlite数据库</a></li><li class="sidebar-sub-header"><a href="/home/sql.html#其它设置" class="sidebar-link">其它设置</a></li><li class="sidebar-sub-header"><a href="/home/sql.html#创建表" class="sidebar-link">创建表</a></li><li class="sidebar-sub-header"><a href="/home/sql.html#删除表-和-清空表-2-0-2" class="sidebar-link">删除表 和 清空表(2.0.2)</a></li><li class="sidebar-sub-header"><a href="/home/sql.html#添加数据" class="sidebar-link">添加数据</a></li><li class="sidebar-sub-header"><a href="/home/sql.html#删除数据" class="sidebar-link">删除数据</a></li><li class="sidebar-sub-header"><a href="/home/sql.html#更新数据-修改" class="sidebar-link">更新数据(修改)</a></li><li class="sidebar-sub-header"><a href="/home/sql.html#查询数据" class="sidebar-link">查询数据</a></li><li class="sidebar-sub-header"><a href="/home/sql.html#分页查询" class="sidebar-link">分页查询</a></li><li class="sidebar-sub-header"><a href="/home/sql.html#原始的查询和执行" class="sidebar-link">原始的查询和执行</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="yoyosqlite-js-2-0-3"><a href="#yoyosqlite-js-2-0-3" class="header-anchor">#</a> yoyoSqlite.js 2.0.3</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>随着LiteLoaderBDS新版本加载器的支持 已经有了sqlite3 数据库的方法,但是它提供的方法对于sql不熟悉的人不是很友好,而且复用并不是很方便,所以封装了这个链式方法库(可能有些地方写得不是很好)!但是我会尽力去完善它!</p> <p>我是Yoyo感谢您的浏览!!!!</p> <p>仓库地址:<a href="https://gitee.com/Y_oyo/yoyo-mcbe-lite-xloader-item/tree/master/sql" target="_blank" rel="noopener noreferrer">https://gitee.com/Y_oyo/yoyo-mcbe-lite-xloader-item/tree/master/sql<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="引入"><a href="#引入" class="header-anchor">#</a> 引入</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> sqlite <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./yoyo-mcbe-lite-xloader-item/sql/yoyoSqlite-2.0.3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="连接sqlite数据库"><a href="#连接sqlite数据库" class="header-anchor">#</a> 连接sqlite数据库</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* 多个参数的时候你可以传对象 */</span>
<span class="token keyword">var</span> isSetConfig <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">connectDb</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'.\\plugins\\sql\\yoyo.db'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">create</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">/* 不存在是否自动创建 */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* 或者你可以这样 */</span>
<span class="token keyword">var</span> isSetConfig <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">connectDb</span><span class="token punctuation">(</span><span class="token string">'.\\plugins\\sql\\yoyo.db'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>isSetConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'数据库连接成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'数据库连接失败'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="其它设置"><a href="#其它设置" class="header-anchor">#</a> 其它设置</h2> <div class="language-JavaScript extra-class"><pre class="language-javascript"><code>sqlite<span class="token punctuation">.</span>table_prefix <span class="token operator">=</span> <span class="token string">'yoyo_'</span><span class="token punctuation">;</span><span class="token comment">//你可以设置一个表前缀(然后使用name直接用名即可) table它需要完整的名</span>
sqlite<span class="token punctuation">.</span>isShowSql <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//你可以调试的时候显示sql语句</span>
</code></pre></div><h2 id="创建表"><a href="#创建表" class="header-anchor">#</a> 创建表</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> sql <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">createTable</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否为主键(每个表只有一个)</span>
        <span class="token literal-property property">auto</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token comment">//默认true 如果不需要自增可以设置false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">account</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'integer'</span><span class="token punctuation">,</span><span class="token comment">//字段类型</span>
        <span class="token keyword">default</span><span class="token operator">:</span><span class="token string">'not null'</span><span class="token punctuation">,</span><span class="token comment">//默认值是null</span>
        <span class="token literal-property property">unique</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token comment">//是否保持唯一值</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'varchar(15)'</span><span class="token comment">//字符串15位的</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">describe</span><span class="token operator">:</span><span class="token string">'varchar(100)'</span><span class="token comment">//如果只有类型(默认null的字段)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'表创建:'</span><span class="token punctuation">,</span>sql<span class="token operator">?</span><span class="token string">'成功'</span><span class="token operator">:</span><span class="token string">'失败'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="删除表-和-清空表-2-0-2"><a href="#删除表-和-清空表-2-0-2" class="header-anchor">#</a> 删除表 和 清空表(2.0.2)</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code>sqlite<span class="token punctuation">.</span><span class="token function">delTable</span><span class="token punctuation">(</span><span class="token string">'user1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除表</span>
sqlite<span class="token punctuation">.</span><span class="token function">clearTable</span><span class="token punctuation">(</span><span class="token string">'user12'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//清空表所有数据</span>
<span class="token keyword">let</span> isTab <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">isTable</span><span class="token punctuation">(</span><span class="token string">'mcuc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//判断指定表是否存在</span>
</code></pre></div><h2 id="添加数据"><a href="#添加数据" class="header-anchor">#</a> 添加数据</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> result <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token comment">//需要操作的完整表名</span>
<span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'account'</span><span class="token punctuation">,</span><span class="token string">'describe'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//设置字段</span>
<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'我是名称'</span><span class="token punctuation">,</span><span class="token number">123456</span><span class="token punctuation">,</span><span class="token string">'我是描述'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加一条数据</span>
<span class="token comment">//你也可以添加多条(比如这样)</span>
<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'我是名称1'</span><span class="token punctuation">,</span><span class="token number">123456</span><span class="token punctuation">,</span><span class="token string">'我是描述1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'我是名称2'</span><span class="token punctuation">,</span><span class="token number">123456</span><span class="token punctuation">]</span><span class="token comment">//(这里字段少了一个,我们不建议这样写 但是它会被null填充)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//或许你想这样做(这样直接指定字段)</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token comment">//需要操作的完整表名</span>
<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'我是名称呀'</span><span class="token punctuation">,</span><span class="token literal-property property">account</span><span class="token operator">:</span><span class="token number">9877</span><span class="token punctuation">,</span><span class="token literal-property property">describe</span><span class="token operator">:</span><span class="token string">'说得是这样?'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//添加一条数据</span>
<span class="token comment">//任然,你也可以添加多条(比如这样)</span>
<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'我是名称呀'</span><span class="token punctuation">,</span><span class="token literal-property property">account</span><span class="token operator">:</span><span class="token number">9877</span><span class="token punctuation">,</span><span class="token literal-property property">describe</span><span class="token operator">:</span><span class="token string">'说得是这样?'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'我是名称呀'</span><span class="token punctuation">,</span><span class="token literal-property property">account</span><span class="token operator">:</span><span class="token number">9877</span><span class="token punctuation">}</span><span class="token comment">//(这里字段少了一个,我们不建议这样写 但是它会被null填充)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="删除数据"><a href="#删除数据" class="header-anchor">#</a> 删除数据</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> result <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token comment">//需要操作的完整表名</span>
<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//获取你可以添加一些条件  (id = 1)</span>
<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'&lt;&gt;'</span><span class="token punctuation">,</span><span class="token string">'yoyo'</span><span class="token punctuation">)</span><span class="token comment">//获取你可以添加一些条件  (name &lt;&gt; 'yoyo')</span>
<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">account</span><span class="token operator">:</span><span class="token number">12345</span><span class="token punctuation">,</span>
    <span class="token literal-property property">rmb</span><span class="token operator">:</span><span class="token number">88</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//获取你可以添加一些条件  (account = 12345 AND rmb = 88)</span>
<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'like'</span><span class="token punctuation">,</span><span class="token string">'%yoyo%'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'ps'</span><span class="token punctuation">,</span><span class="token string">'in'</span><span class="token punctuation">,</span><span class="token string">'(1,2,3,4)'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">//获取你可以添加一些条件  (name like %yoyo% AND ps in (1,2,3,4))</span>
<span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token comment">//获取还可以限制删除的条数</span>
<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="更新数据-修改"><a href="#更新数据-修改" class="header-anchor">#</a> 更新数据(修改)</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> result <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token comment">//需要操作的完整表名</span>
<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//获取你可以添加一些条件  (id = 1)</span>
<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">rmb</span><span class="token operator">:</span><span class="token number">99999</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'我被修改了'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//修改id = 1 的 rmb 为 99999 ,name 为 我被修改了</span>
</code></pre></div><h2 id="查询数据"><a href="#查询数据" class="header-anchor">#</a> 查询数据</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>查询返回值有修改哦<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span>看我
result<span class="token punctuation">.</span>data<span class="token punctuation">;</span><span class="token comment">//查询到的数据</span>
result<span class="token punctuation">.</span>field<span class="token punctuation">;</span><span class="token comment">//字段</span>
result<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取索引0的name字段数据 方便开发者快速获取</span>
result<span class="token punctuation">.</span>total<span class="token punctuation">;</span><span class="token comment">//查询到的数据总数量</span>

<span class="token keyword">var</span> result <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token comment">//需要操作的完整表名</span>
<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//获取你可以添加一些条件  (id = 1)</span>
<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//查询一条数据</span>

<span class="token comment">//或者</span>
<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//查询多条</span>
<span class="token comment">//你任然可以用</span>
<span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token comment">//or</span>
<span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span>
<span class="token comment">//去限制它</span>
<span class="token comment">//我们看看排序</span>
<span class="token punctuation">.</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token comment">//默认升序</span>
<span class="token punctuation">.</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span><span class="token string">'desc'</span><span class="token punctuation">)</span><span class="token comment">//设置降序</span>
<span class="token punctuation">.</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token string">'asc'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">rmb</span><span class="token operator">:</span><span class="token string">'desc'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//这种方式 2.0.0 还未支持 可能在 2.0.0 +会添加此方式</span>

<span class="token comment">//你也可以单独设置字段显示默认是 *</span>
<span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token string">'id,name'</span><span class="token punctuation">)</span><span class="token comment">//只要两个字段</span>
<span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token string">'id,name AS 名称'</span><span class="token punctuation">)</span><span class="token comment">//或者用来取名也可以</span>

<span class="token comment">//多表联查也是支持的</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token comment">//需要操作的完整表名</span>
<span class="token punctuation">.</span><span class="token function">alias</span><span class="token punctuation">(</span><span class="token string">'u'</span><span class="token punctuation">)</span><span class="token comment">//取个别名</span>
<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'user2 u2'</span><span class="token punctuation">,</span><span class="token string">'u.id = u2.id'</span><span class="token punctuation">)</span><span class="token comment">//你可以这样的当然它还有(leftJoin,rightJoin,fullJoin)他们分别代表(INNER JOIN,LEFT JOIN,RIGHT JOIN,FULL JOIN)</span>

<span class="token punctuation">.</span><span class="token function">whereRaw</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span>bind<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//sql是字符串,bind 是 Number|String|Array</span>
<span class="token punctuation">.</span><span class="token function">whereRaw</span><span class="token punctuation">(</span><span class="token string">&quot;id = 1 OR name = 'yoyo'&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//这个是未加工的</span>
<span class="token punctuation">.</span><span class="token function">whereRaw</span><span class="token punctuation">(</span><span class="token string">&quot;id = ? OR name = ?&quot;</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'yoyo'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//这个是未加工的</span>


<span class="token comment">//快捷的聚合查询</span>
<span class="token comment">//统计数量</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token comment">//需要操作的完整表名</span>
<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//统计数量</span>
<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token string">'account'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//依然也可以指定字符</span>

<span class="token comment">//获取最大值</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token string">'rmb'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取指定字段的最大值(你必须给它指定字段)</span>

<span class="token comment">//获取最小值</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token string">'rmb'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取指定字段的最小值(你必须给它指定字段)</span>

<span class="token comment">//获取平均值</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token string">'rmb'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取指定字段的平均值(你必须给它指定字段)</span>

<span class="token comment">//获取总和</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token string">'rmb'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取指定字段的总和(你必须给它指定字段)</span>
</code></pre></div><h2 id="分页查询"><a href="#分页查询" class="header-anchor">#</a> 分页查询</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> result <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pages</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//查询第一页  每页10个</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> sqlite<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pages</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//查询第一页  每页10个默认也是10</span>

result<span class="token punctuation">.</span>data<span class="token punctuation">;</span><span class="token comment">//查询到的数据</span>
result<span class="token punctuation">.</span>field<span class="token punctuation">;</span><span class="token comment">//字段</span>
result<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取索引0的name字段数据 方便开发者快速获取</span>
result<span class="token punctuation">.</span>pages<span class="token punctuation">;</span><span class="token comment">//分页是其它数据包含如下</span>
<span class="token punctuation">{</span><span class="token literal-property property">max</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token literal-property property">current</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token literal-property property">limit</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span>
max<span class="token comment">//最大页数</span>
current<span class="token comment">//当前页数</span>
limit<span class="token comment">//每页显示数量</span>
</code></pre></div><h2 id="原始的查询和执行"><a href="#原始的查询和执行" class="header-anchor">#</a> 原始的查询和执行</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//如果还是没有您需要的你可以自己编写sql使用以下的方法执行</span>

sqlite<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//执行并返回</span>
sqlite<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span>bind<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//执行并返回  (它有一个可选参数绑定就是预处理方式)</span>

result<span class="token punctuation">.</span>data<span class="token punctuation">;</span><span class="token comment">//查询到的数据</span>
result<span class="token punctuation">.</span>field<span class="token punctuation">;</span><span class="token comment">//字段</span>
result<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取索引0的name字段数据 方便开发者快速获取</span>


<span class="token comment">//还有执行不返回的</span>
sqlite<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
sqlite<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span>bind<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//使用方式和上面雷同</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.abde6b00.js" defer></script><script src="/assets/js/2.2defd20b.js" defer></script><script src="/assets/js/8.73b1d48e.js" defer></script>
  </body>
</html>
